<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Horloge numérique</title>
    <style>
      #clock {
        display: inline-block;
        font-family: Arial, sans-serif;
        font-size: 30px;
        text-align: center;
        border: 5px solid black;
        padding: 10px;
        border-radius: 10px;
        background-color: white;
        color: black;
      }
    </style>
  </head>
  <body>
    <div id="clock">
      <div class="hour ten">
        <div class="front">0</div>
        <div class="back">0</div>
        <div class="under">0</div>
        <div class="base">0</div>
        <div class="flap"></div>
      </div>
      <div class="hour">
        <div class="front">0</div>
        <div class="back">0</div>
        <div class="under">0</div>
        <div class="base">0</div>
        <div class="flap"></div>
      </div>
      <div class="sep">:</div>
      <div class="min ten">
        <div class="front">0</div>
        <div class="back">0</div>
        <div class="under">0</div>
        <div class="base">0</div>
        <div class="flap"></div>
      </div>
      <div class="min">
        <div class="front">0</div>
        <div class="back">0</div>
        <div class="under">0</div>
        <div class="base">0</div>
        <div class="flap"></div>
      </div>
      <div class="sep">:</div>
      <div class="sec ten">
        <div class="front">0</div>
        <div class="back">0</div>
        <div class="under">0</div>
        <div class="base">0</div>
        <div class="flap"></div>
      </div>
      <div class="sec">
        <div class="front">0</div>
        <div class="back">0</div>
        <div class="under">0</div>
        <div class="base">0</div>
        <div class="flap"></div>
      </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
      function flipTo(digit, n){
        var current = digit.attr('data-num');
        digit.attr('data-num', n);
        digit.find('.front').attr('data-content', current);
        digit.find('.back, .under').attr('data-content', n);
        digit.find('.flap').css('display', 'block');
        setTimeout(function(){
          digit.find('.base').text(n);
          digit.find('.flap').css('display', 'none');
        }, 350);
      }

      function jumpTo(digit, n){
        digit.attr('data-num', n);
        digit.find('.base').text(n);
      }

      function updateGroup(group, n, flip){
        var digit1 = $('.ten'+group);
        var digit2 = $('.'+group);
        n = String(n);
        if (n.length == 1) n = '0'+n;
        var num1 = digit1.attr('data-num');
        var num2 = digit2.attr('data-num');
        if (num1 != n[0]) {
          if (flip) flipTo(digit1, n[0]);
          else jumpTo(digit1, n[0]);
        }
        if (num2 != n[1]) {
          if (flip) flipTo(digit2, n[1]);
          else jumpTo(digit2, n[1]);
        }
      }

      $(document).ready(function(){
        var weekdays = ['dimanche', 'lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi'];
        var months = ['janvier', 'février', 'mars', 'avril', 'mai', 'juin', 'juillet', 'août', 'septembre', 'octobre', 'novembre', 'décembre'];
        var now = new Date();
        var day = now.getDay();
        var month = now.getMonth();
        var year = now.getFullYear();
        var hour = now.getHours();
        var minute = now.getMinutes();
        var second = now.getSeconds();
        $('.day').text(weekdays[day]);
        $('.date').text(now.getDate()+' '+months[month]+' '+year);
        updateGroup('hour', hour, false);
        updateGroup('min', minute, false);
        updateGroup('sec', second, false);
        setInterval(function(){
          var now = new Date();
          var hour = now.getHours();
          var minute = now.getMinutes();
          var second = now.getSeconds();
          updateGroup('hour', hour, true);
          updateGroup('min', minute, true);
          updateGroup('sec', second, true);
        }, 1000);
      });
    </script>
  </body>
</html>

